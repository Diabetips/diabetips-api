openapi: "3.0.0"
info:
  title: "Diabetips API"
  description: >
    This is the documentation for the Diabetips REST API.
  version: "0.4.0"
  contact:
    email: "contact@diabetips.fr"
servers:
  - url: "https://api.diabetips.fr"
tags:
  - name: "Paging"
    description: >
      Multiple routes of this API implement paging, which can be interacted with by using the following query
      parameters:
        - `page` which controls the number of the page to return. (Default: 1, the first page)
        - `size` which controls the number of items returned in each page. (Default: 20, Maximum: 100)


      Along with the requested data, these routes will produce an additional HTTP header `X-Pages` in the response. This
      header will contain a semi-colon separated list of the following values:
        * `previous: X` where X is the previous page number (if one exists).
        * `next: X` where X is the next page number (if one exists).
        * `last: X` where X is the last page number.


      Routes that implement paging:
       - [Users - Get all users](#tag/Users/paths/~1v1~1users/get)
       - [Meals - Get all meals](#tag/Meals/paths/~1v1~1users~1{uid}~1meals/get)
       - [Recipe - Get all food items](#tag/Recipes/paths/~1v1~1food/get)
       - [Recipe - Get all recipes](#tag/Recipes/paths/~1v1~1recipes/get)
       - [Biometrics - Get all blood sugar measures](#tag/Biometrics/paths/~1v1~1users~1{uid}~1blood_sugar/get)
       - [Biometrics - Get all HbA1C measures](#tag/Biometrics/paths/~1v1~1users~1{uid}~1hba1c/get)
       - [Biometrics - Get all insulin injections](#tag/Biometrics/paths/~1v1~1users~1{uid}~1insulin/get)
  - name: "Timeable"
    description: >
      Multiple routes of this API allow the developper to filter the data by period.


      This can be done by using the following query parameters:
        - `start` which represents the beginning of the desired period. (Default: No specific beginning)
        - `end` which represents the end of the desired period. (Default: Current time of the request)


      Routes that implement the timeable query:
       - [Mass history - Get user's mass history](#tag/Biometrics/paths/~1v1~1users~1{uid}~1mass/get)
       - [Height history - Get user's height history](#tag/Biometrics/paths/~1v1~1users~1{uid}~1height/get)
       - [Meals - Get all meals](#tag/Meals/paths/~1v1~1users~1{uid}~1meals/get)
       - [Biometrics - Get all blood sugar measures](#tag/Biometrics/paths/~1v1~1users~1{uid}~1blood_sugar/get)
       - [Biometrics - Get all HbA1C measures](#tag/Biometrics/paths/~1v1~1users~1{uid}~1hba1c/get)
       - [Biometrics - Get all insulin injections](#tag/Biometrics/paths/~1v1~1users~1{uid}~1insulin/get)
       - [Notes - Get all notes of a user](#tag/Notes/paths/~1v1~1users~1{uid}~1notes/get)
       - [Notes - Get all events of a user](#tag/Notes/paths/~1v1~1users~1{uid}~1events/get)
  - name: "Authentication"
    description: >
      The Diabetips API uses an OAuth 2.0 based authentication system with JSON Web Tokens. Almost all of this API
      routes require a valid authenticated user access token be passed via the `Authorization: Bearer xyz` HTTP header.


      Tokens can be obtained via the OAuth flow that is most appropriate for your type of application, this API supports
      the following flows:
       * Authorization code
       * Implicit
       * Password
       * Refresh


      See also:
       * [RFC 6749: OAuth 2.0](https://tools.ietf.org/html/rfc6749)
       * [RFC 7519: JSON Web Token](https://tools.ietf.org/html/rfc7519)
  - name: "Users"
  - name: "Notifications"
    description: >
      **Work in progress, API objects and routes can be subject to changes until the final release.**



      The Notifications API is available through the usual HTTP REST API but will also have a WebSocket endpoint in the
      future.
  - name: "Connections"
  - name: "Biometrics"
  - name: "Predictions"
    description: >
      **Work in progress, API objects and routes can be subject to changes until the final release.**
  - name: "Meals"
  - name: "Recipes"
  - name: "Notes"
